# code taken from
# https://github.com/robbrit/warlock
# thanks
# and patched a little bit